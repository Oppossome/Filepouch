{"version":3,"sources":["globals.js","components/ModalImage.js","components/ImageGrid.js","components/UploadsPage.js","components/NotFound.js","components/Userpage.js","components/Textlogo.js","components/Header.js","components/Hero.js","App.js","index.js"],"names":["states","getState","stateName","value","sanitize","string","map","reg","replace","match","getCurrentTime","divValue","Math","floor","Date","now","months","makeDateGood","toParse","date","dateDiff","daysPassed","hoursPassed","getMonth","getDay","getFullYear","ModalImage","props","imgData","ImgData","closeModal","e","SetSelectedImage","preventDefault","escFunc","keyCode","useEffect","document","addEventListener","url","URL","window","location","searchParams","set","fileName","history","replaceState","removeEventListener","delete","uploadDate","globals","onClick","className","stopPropagation","tabIndex","to","postedBy","id","username","href","icon","faTimes","src","alt","canDelete","DeleteFile","faTrashAlt","views","ImageObject","postDate","doAnim","justUploaded","displayFile","style","title","faEye","faCalendar","ImageGrid","GridImages","gridImages","setGridImages","useState","currentError","setCurrentError","selectedImage","setSelectedImage","currentPage","setCurrentPage","isLoading","setIsLoading","handleScroll","body","scrollHeight","documentElement","scrollTop","innerHeight","fetch","Endpoint","then","rawData","a","json","data","hasOwnProperty","err","length","catch","method","filter","file","Title","img","ind","scrollTo","UploadsPage","NotFound","console","log","FileDropzone","total","amount","uploadCount","setUploadCount","uploadFiles","files","fileTotal","fileCount","completedFiles","i","formData","FormData","append","req","XMLHttpRequest","onreadystatechange","readyState","DONE","uploadResponse","JSON","parse","responseText","unshift","count","open","setRequestHeader","uploadToken","send","dropHandler","dataTransfer","items","isUploading","onDrop","onDragOver","currentTarget","classList","add","onDragLeave","remove","htmlFor","type","onChange","target","multiple","TokenHolder","isCopied","setIsCopied","tokenHolder","useRef","tokenInput","User","isUserApproved","ref","navigator","clipboard","writeText","userToken","setTimeout","current","select","execCommand","AdminPanel","TargetUser","targetUser","setTargetUser","allowUser","action","alert","isUserBanned","Userpage","currentUser","thisUser","setThisUser","userid","useParams","pathname","isErrored","isSelf","joinDate","gridTitle","endPoint","canModerate","Textlogo","translate","Header","isLoggedIn","Hero","loginBtn","App","stateValue","setValue","response","pageLoad","useCallback","elem","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2116052d.chunk.js","sourcesContent":["/*Global Values\r\n===================*/\r\n\r\nexport let states = {};\r\n\r\nexport function getState(stateName){\r\n\treturn states[stateName].value;\r\n}\r\n\r\nexport function setState(stateName, value){\r\n\tstates[stateName].setValue(value);\r\n}\r\n\r\nexport function registerState(stateName, [stateValue, setValue]) {\r\n\tstates[stateName] = {value: stateValue, setValue};\r\n\treturn states[stateName];\r\n}\r\n\r\nexport function sanitize(string=\"\") {\r\n\tconst map = {\r\n\t\t'&': '&amp;',\r\n\t\t'<': '&lt;',\r\n\t\t'>': '&gt;',\r\n\t\t'\"': '&quot;',\r\n\t\t\"'\": '&#x27;',\r\n\t\t\"/\": '&#x2F;',\r\n\t};\r\n\r\n\tconst reg = /[&<>\"'/]/ig;\r\n\treturn string.replace(reg, (match)=>(map[match]));\r\n}\r\n\r\nexport function getCurrentTime(divValue=1) {\r\n\treturn Math.floor(Date.now() / divValue);\r\n}\r\n\r\n\r\nlet months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n\r\nexport function makeDateGood(toParse) {\r\n\tlet date = new Date(toParse);\r\n\tlet dateDiff = (Date.now() - date) / 1000;\r\n\tlet daysPassed = (dateDiff / 86400);\r\n\r\n\tif(daysPassed < 1) {\r\n\t\tlet hoursPassed = (dateDiff / 3600);\r\n\t\treturn (hoursPassed < 1 ? Math.floor(dateDiff/60) + \"m\" : Math.floor(hoursPassed) + \"h\");\r\n\r\n\t} else if(daysPassed <= 7) {\r\n\t\treturn Math.floor(daysPassed)+\"d\";\r\n\t}\r\n\r\n\treturn `${months[date.getMonth()]} ${date.getDay()} ${daysPassed > 365 ? date.getFullYear() : ''}`;\r\n}","import React, { useEffect } from 'react';\r\nimport * as globals from '../globals.js';\r\nimport {Link} from 'react-router-dom';\r\nimport './ModalImage.css'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function ModalImage(props) {\r\n\tlet imgData = props.ImgData;\r\n\r\n\tlet deleteFile = (e) => {\r\n\t\tprops.DeleteFile(imgData.fileName);\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\tlet closeModal = (e) => {\r\n\t\tprops.SetSelectedImage(null);\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\tlet escFunc = ((e) => {\r\n\t\tif(e.keyCode === 27){\r\n\t\t\tcloseModal(e);\r\n\t\t}\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"keydown\", escFunc, false);\r\n\r\n\t\tconst url = new URL(window.location);\r\n\t\turl.searchParams.set('image', imgData.fileName);\r\n\t\twindow.history.replaceState({}, '', url);\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"keydown\", escFunc, false);\r\n\r\n\t\t\turl.searchParams.delete('image');\r\n\t\t\twindow.history.replaceState({}, '', url);\r\n\t\t}\r\n\r\n\t// eslint-disable-next-line\r\n\t},[])\r\n\r\n\r\n\tlet fileName = imgData.fileName.match(/^\\w{7}(.*)$/);\r\n\tlet uploadDate = globals.makeDateGood(imgData.date);\r\n\r\n\treturn (\r\n\t\t<div onClick={closeModal} className=\"modalImage\">\r\n\t\t\t<div onClick={(e)=>{e.stopPropagation()}}className=\"modalImage-inner\">\r\n\t\t\t\t<div className=\"modalImage-topbar\">\r\n\t\t\t\t<Link tabIndex=\"1\" to={\"/user/\"+imgData.postedBy.id }><span>{globals.sanitize(imgData.postedBy.username)}</span> · {uploadDate}</Link>\r\n\t\t\t\t\t<button tabIndex=\"2\" href=\"#\" onClick={closeModal}><FontAwesomeIcon icon={faTimes} /></button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"modalImage-imgholder\">\r\n\t\t\t\t\t<img src={\"/\" + imgData.fileName} alt=\"\"></img>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"modalImage-bottombar\">\r\n\t\t\t\t\t<div className = \"modalImage-titlebar\">\r\n\t\t\t\t\t\t<h2 tabIndex=\"3\">{globals.sanitize(fileName[1])}</h2>\r\n\t\t\t\t\t\t{imgData.canDelete && <button onClick={deleteFile} tabIndex=\"4\"><FontAwesomeIcon icon={faTrashAlt} /></button>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p tabIndex=\"5\">{imgData.views} View{imgData.views !== 1 ? \"s\" : \"\"}</p>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}","import React, { useState, useEffect } from 'react';\r\nimport * as globals from '../globals.js';\r\n\r\nimport './ImageGrid.css'\r\nimport ModalImage from './ModalImage.js';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEye, faCalendar } from '@fortawesome/free-solid-svg-icons'\r\n\r\nfunction ImageObject(props) {\r\n\tlet imgData = props.ImgData;\r\n\r\n\tlet displayFile = () => {\r\n\t\tprops.displayFile(imgData);\r\n\t}\r\n\r\n\tlet postDate = globals.makeDateGood(imgData.date);\r\n\tlet fileName = imgData.fileName.match(/^\\w{7}(.*)$/)\r\n\tlet doAnim = imgData.justUploaded === globals.getCurrentTime(1000);\r\n\treturn (<div onClick={displayFile} className={doAnim ? \"image-entry entry-popin\" : \"image-entry\"}>\r\n\t\t<div style={{\"backgroundImage\": \"url('/\"+imgData.fileName+\"')\"}} className=\"img\" />\r\n\t\t<h3>{globals.sanitize(fileName[1])}</h3>\r\n\r\n\t\t<div className=\"extended-info\">\r\n\t\t\t<span title=\"Views\"><p><FontAwesomeIcon icon={faEye} /> {imgData.views}</p></span>\r\n\t\t\t<span title=\"Posted on\"><p><FontAwesomeIcon icon={faCalendar} /> {postDate}</p></span>\r\n\t\t</div>\r\n\t</div>)\r\n}\r\n\r\nexport default function ImageGrid(props) {\r\n\tlet [gridImages, setGridImages] = props.GridImages;\r\n\tlet [currentError, setCurrentError] = useState(\"\");\r\n\tlet [selectedImage, setSelectedImage] = useState();\r\n\tlet [currentPage, setCurrentPage] = useState(0);\r\n\tlet [isLoading, setIsLoading] = useState(true);\r\n\r\n\tlet displayFile = (imgData) => {\r\n\t\tsetSelectedImage(imgData);\r\n\t}\r\n\r\n\tlet deleteFile = (fileName) => {\r\n\t\tfetch(\"/api/files/\"+fileName, {method: 'DELETE'}).then(async (rawData) => {\r\n\t\t\tlet data = await rawData.json();\r\n\t\t\tif( !data.hasOwnProperty(\"err\") ) {\r\n\t\t\t\tsetGridImages(gridImages.filter((file) => file.fileName !== fileName));\r\n\t\t\t\tsetSelectedImage(null);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tlet handleScroll = (e) => {\r\n\t\tif(isLoading || currentPage === -1) return;\r\n\t\tlet scrollFromBottom = document.body.scrollHeight - (document.documentElement.scrollTop + window.innerHeight);\r\n\t\tif(scrollFromBottom < 10) {\r\n\t\t\tsetCurrentPage(currentPage + 1);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(currentPage === -1) return;\r\n\t\tsetIsLoading(true);\r\n\r\n\t\tfetch(`${props.Endpoint}/${currentPage}`).then(async (rawData) => {\r\n\t\t\tlet data = await rawData.json();\r\n\t\t\tif(!data.hasOwnProperty(\"err\")){\r\n\t\t\t\tif(data.length !== 20) setCurrentPage(-1);\r\n\t\t\t\tsetGridImages([...gridImages, ...data]);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t} else {\r\n\t\t\t\tsetCurrentError(data.err);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t\tsetCurrentPage(-1);\r\n\t\t\t}\r\n\r\n\t\t}).catch(() => {\r\n\t\t\tsetCurrentPage(-2);\r\n\t\t\tsetIsLoading(false);\r\n\r\n\t\t})\r\n\r\n\t// eslint-disable-next-line\r\n\t}, [currentPage])\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('scroll', handleScroll, false);\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('scroll', handleScroll, false);\r\n\t\t}\r\n\t})\r\n\r\n\treturn (<div id=\"user-images\" className=\"container\">\r\n\t\t{selectedImage && <ModalImage ImgData={selectedImage} DeleteFile={deleteFile} SetSelectedImage={setSelectedImage}/>}\r\n\r\n\t\t<h2 className=\"containerHeader\">{currentError === \"\" ? props.Title : currentError}</h2>\r\n\t\t<div className=\"images\">\r\n\t\t\t{gridImages.map((img, ind) => (\r\n\t\t\t\t<ImageObject key={ind} ImgData={img} displayFile={displayFile} />\r\n\t\t\t))}\r\n\t\t</div>\r\n\r\n\t\t{(currentPage === -1 && gridImages.length >= 16) &&\r\n\t\t\t<div className=\"imgGrid-return\">\r\n\t\t\t\t<h3>... and then there were none</h3>\r\n\t\t\t\t<button onClick={() => {window.scrollTo(0, 0)}}>return to top</button>\r\n\t\t\t</div>\r\n\t\t}\r\n\r\n\t\t{isLoading && <h3 className=\"imgGrid-Loading\">Loading files<span>.</span><span>.</span><span>.</span></h3>}\r\n\t</div>);\r\n}","import React, { useState } from 'react';\r\nimport ImageGrid from './ImageGrid.js';\r\n\r\nexport default function UploadsPage(props) {\r\n\tlet [gridImages, setGridImages] = useState([]);\r\n\r\n\treturn (<>\r\n\t\t<ImageGrid Title='All Uploads' Endpoint='/api/files/uploads' GridImages={[gridImages, setGridImages]}/>\r\n\t</>);\r\n}","import {Link} from 'react-router-dom';\r\nimport React from 'react';\r\nimport './NotFound.css'\r\n\r\n\r\nfunction NotFound() {\r\n\tconsole.log(\"WAWA\");\r\n\r\n\treturn (\r\n\t\t<div id=\"notfound\">\r\n\t\t\t<div id=\"notfound-inner\">\r\n\t\t\t\t<h2><span id=\"flicker\">4</span><span>0</span><span>4</span></h2>\r\n\t\t\t\t<p>This page could not be found</p>\r\n\t\t\t\t<Link to=\"/\"className=\"stylized-btn\">Home</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default NotFound","import React, { useState, useEffect, useRef } from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport * as globals from '../globals.js';\r\nimport './Userpage.css'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCalendar } from '@fortawesome/free-solid-svg-icons'\r\nimport ImageGrid from './ImageGrid.js'\r\n\r\nfunction FileDropzone(props) {\r\n\tlet [uploadCount, setUploadCount] = useState({total: 0, amount: 0});\r\n\tlet [gridImages, setGridImages] = props.gridImages;\r\n\r\n\tlet uploadFiles = (files) => {\r\n\t\tlet fileTotal = files.length;\r\n\t\tlet fileCount = fileTotal;\r\n\t\tlet completedFiles = [];\r\n\r\n\t\tfor(let i = 0; i < fileTotal; i++){\r\n\t\t\tlet formData = new FormData();\r\n\t\t\tformData.append(\"file\", files[i]);\r\n\r\n\t\t\tlet req = new XMLHttpRequest();\r\n\r\n\t\t\t// TODO: MAKE LESS JANK\r\n\t\t\t// eslint-disable-next-line\r\n\t\t\treq.onreadystatechange = function() {\r\n\t\t\t\tif (req.readyState === XMLHttpRequest.DONE) {\r\n\t\t\t\t\tlet uploadResponse = JSON.parse(req.responseText);\r\n\t\t\t\t\tif(!uploadResponse.hasOwnProperty(\"err\")){\r\n\t\t\t\t\t\tuploadResponse.justUploaded = globals.getCurrentTime(1000);\r\n\t\t\t\t\t\tcompletedFiles.unshift(uploadResponse);\r\n\t\t\t\t\t\tsetGridImages([...completedFiles, ...gridImages]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfileCount--;\r\n\t\t\t\t\tsetUploadCount({total: fileTotal, count: fileTotal - fileCount});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(fileCount === 0){\r\n\t\t\t\t\tsetUploadCount({total: 0, count: 0});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treq.open(\"POST\", \"/api/files/upload\");\r\n\t\t\treq.setRequestHeader(\"uploadToken\", globals.getState(\"currentUser\").uploadToken);\r\n\t\t\treq.send(formData);\r\n\t\t}\r\n\r\n\t\tsetUploadCount({total: fileTotal, count: 0});\r\n\t}\r\n\r\n\tlet manualUpload = (e) => {\r\n\t\tlet files = e.target.files;\r\n\t\te.preventDefault();\r\n\t\tif(uploadCount.total !== 0 || files.length === 0) return;\r\n\t\tuploadFiles(files);\r\n\t}\r\n\r\n\tlet dragOverHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif(uploadCount.total !== 0) return;\r\n\t\te.currentTarget.classList.add(\"isOver\");\r\n\t}\r\n\r\n\tlet dragLeaveHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif(uploadCount.total !== 0) return;\r\n\t\te.currentTarget.classList.remove(\"isOver\");\r\n\t}\r\n\r\n\tlet dropHandler = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tif(uploadCount.total !== 0) return;\r\n\r\n\t\tif(e.dataTransfer.items) {\r\n\t\t\tuploadFiles(e.dataTransfer.files);\r\n\t\t}\r\n\t}\r\n\r\n\tlet isUploading = uploadCount.total !== 0;\r\n\treturn (<div id=\"drop_outer\" className=\"container\">\r\n\t\t<div id=\"drop_zone\" className={isUploading ? \"isOver\" : \"\"} onDrop={dropHandler} onDragOver={dragOverHandler} onDragLeave={dragLeaveHandler}>\r\n\t\t\t<label htmlFor={!isUploading ? \"drop_manual-upload\" : \"\"} id=\"drop_manual-label\">{isUploading ? `Uploading files ${uploadCount.count} of ${uploadCount.total}` : (<><span>Choose a file</span> or drag it here.</>)}</label>\r\n\t\t\t<input type=\"file\" id=\"drop_manual-upload\" onChange={manualUpload} multiple />\r\n\t\t</div>\r\n\t</div>)\r\n}\r\n\r\nfunction TokenHolder(props) {\r\n\tlet [isCopied, setIsCopied] = useState(false);\r\n\tlet tokenHolder = useRef(null);\r\n\tlet tokenInput = useRef(null);\r\n\r\n\tlet doCopy = (e) => {\r\n\t\te.preventDefault();\r\n\t\tnavigator.clipboard.writeText(props.userToken).then(() => {\r\n\t\t\tsetTimeout(() => { setIsCopied(false);}, 3000);\r\n\t\t\tsetIsCopied(true);\r\n\r\n\t\t}, function() {\r\n\t\t\ttokenInput.current.select();\r\n\t\t\tdocument.execCommand(\"copy\");\r\n\t\t\tsetTimeout(() => { setIsCopied(false);}, 3000);\r\n\t\t\tsetIsCopied(true);\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tif(props.User.isUserApproved){\r\n\t\treturn (<div ref={tokenHolder} className={isCopied ? \"tokenCopied\" : \"\"} id=\"tokenholder\">\r\n\t\t\t<p>Upload Token</p>\r\n\t\t\t<input onChange={()=>{}} ref={tokenInput} id=\"tokencapture\" type=\"text\" value={props.User.uploadToken} />\r\n\t\t\t<button className={isCopied ? \"no-hover\" : \"\"} onClick={doCopy}>{isCopied ? \"Copied!\" : \"Copy\"}</button>\r\n\t\t</div>)\r\n\t} else {\r\n\t\treturn (<p className=\"tokenholder-denied\">This account requires admin approval to upload</p>)\r\n\t}\r\n}\r\n\r\nfunction AdminPanel(props) {\r\n\tlet [targetUser, setTargetUser] = props.TargetUser;\r\n\r\n\tlet allowUser = (e, action) => {\r\n\t\te.preventDefault();\r\n\t\tfetch(`/api/users/${targetUser.id}/${action}`, {method: 'POST'}).then(async (rawData) => {\r\n\t\t\tlet data = await rawData.json();\r\n\t\t\tif(!data.hasOwnProperty(\"err\")) {\r\n\t\t\t\tsetTargetUser(data);\r\n\t\t\t}\r\n\t\t}).catch((err) => {\r\n\t\t\talert(err);\r\n\t\t})\r\n\t}\r\n\r\n\tconsole.log(targetUser.isUserApproved);\r\n\treturn (\r\n\t\t<div id=\"adminPanel\" className=\"container\">\r\n\t\t\t<h2 className=\"containerHeader\">Admin Panel</h2>\r\n\t\t\t<div className=\"adminPanel-btns\">\r\n\t\t\t\t{!targetUser.isUserApproved && <button onClick={(e) => allowUser(e, \"TOGGLE_APPROVAL\")}>Allow user to upload</button>}\r\n\t\t\t\t<button href=\"\" onClick={(e) => allowUser(e, \"BAN_USER\")}>{targetUser.isUserBanned ? \"Unban User\" : \"Ban User\"}</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default function Userpage(props) {\r\n\tlet currentUser = globals.getState(\"currentUser\");\r\n\tlet [gridImages, setGridImages] = useState([]);\r\n\tlet [thisUser, setThisUser] = useState({});\r\n\tlet {userid} = useParams();\r\n\r\n\tuseEffect(() => {\r\n\t\tif(userid === \"me\") return setThisUser(currentUser);\r\n\t\tfetch(\"/api/users/\"+userid).then(async (rawData) => {\r\n\t\t\tlet data = await rawData.json();\r\n\t\t\tsetThisUser(data);\r\n\t\t})\r\n\r\n\t// eslint-disable-next-line\r\n\t}, [currentUser])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst url = new URL(window.location);\r\n\t\tif(thisUser.hasOwnProperty(\"id\") && url.pathname === '/user/me'){\r\n\t\t\turl.pathname = `/user/${thisUser.id}`;\r\n\t\t\twindow.history.replaceState({}, '', url);\r\n\t\t}\r\n\r\n\t}, [thisUser])\r\n\r\n\tlet isErrored = thisUser.hasOwnProperty(\"err\")\r\n\r\n\tif(!thisUser.hasOwnProperty(\"id\") || isErrored) {\r\n\t\treturn (<div className=\"container\">\r\n\t\t\t<h2>{isErrored ? \"User not found\" : \"Loading user...\"}</h2>\r\n\t\t</div>)\r\n\r\n\t} else {\r\n\t\tlet isSelf = thisUser.hasOwnProperty(\"uploadToken\");\r\n\t\tlet joinDate = globals.makeDateGood(thisUser.date);\r\n\t\tlet gridTitle = gridImages.length > 0 ? thisUser.username+\"'s Uploads\" : thisUser.username+\" has no uploads\";\r\n\t\tlet endPoint = `/api/users/files/${thisUser.id}`;\r\n\r\n\t\treturn (<>\r\n\t\t\t<div id=\"userpage\" className=\"container\">\r\n\t\t\t\t<div className=\"userInfo\">\r\n\t\t\t\t\t<h2>{globals.sanitize(thisUser.username)}</h2>\r\n\t\t\t\t\t<div className=\"userinfo-holder\">\r\n\t\t\t\t\t\t<span title=\"Joined on\"><p><FontAwesomeIcon icon={faCalendar} /> {joinDate}</p></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{isSelf && <TokenHolder User={thisUser}/>}\r\n\t\t\t</div>\r\n\r\n\t\t\t{(thisUser.canModerate) && <AdminPanel TargetUser={[thisUser, setThisUser]}/>}\r\n\t\t\t{isSelf && <FileDropzone gridImages={[gridImages, setGridImages]}/>}\r\n\t\t\t<ImageGrid Title={gridTitle} Endpoint={endPoint} GridImages={[gridImages, setGridImages]}/>\r\n\t\t</>)\r\n\t}\r\n}","import './Textlogo.css'\r\n\r\nfunction Textlogo() {\r\n\treturn (\r\n\t\t<h1 className=\"textlogo\" translate=\"no\">File<span>pouch</span></h1>\r\n\t)\r\n}\r\n\r\nexport default Textlogo;","import React from 'react';\r\nimport * as globals from '../globals.js';\r\nimport Textlogo from './Textlogo.js';\r\nimport './Header.css';\r\n\r\n\r\nfunction Header(props) {\r\n\tlet currentUser = globals.getState(\"currentUser\");\r\n\tlet isLoggedIn = currentUser.hasOwnProperty(\"id\");\r\n\r\n\treturn (\r\n\t\t<header id=\"pageHeader\">\r\n\t\t\t<div id=\"pageHeader-inner\">\r\n\t\t\t\t<Textlogo />\r\n\t\t\t\t<a href={isLoggedIn ? \"/auth/logout\" : \"/auth/discord\" }>{isLoggedIn ? \"Logout\" : \"Login\"}</a>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport * as globals from '../globals.js';\r\nimport {Link} from 'react-router-dom';\r\nimport Textlogo from './Textlogo';\r\nimport './Hero.css';\r\n\r\n\r\nexport default function Hero() {\r\n\tlet currentUser = globals.getState(\"currentUser\");\r\n\tlet loginBtn = (<a className=\"stylized-btn\" href=\"/auth/discord\">Sign in</a>)\r\n\r\n\tif(currentUser.hasOwnProperty(\"id\")) {\r\n\t\tloginBtn = (<Link to=\"/user/me\" className=\"stylized-btn\">My Profile</Link>);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<body id=\"hero\">\r\n\t\t\t<div id=\"hero-center\">\r\n\t\t\t\t<Textlogo />\r\n\t\t\t\t<p>An Open Source Filehost</p>\r\n\t\t\t\t{loginBtn}\r\n\t\t\t</div>\r\n\t\t</body>\r\n\t)\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react';\nimport * as globals from './globals.js';\nimport './App.css';\n\nimport UploadsPage from './components/UploadsPage.js';\nimport NotFound from './components/NotFound.js';\nimport Userpage from './components/Userpage.js';\nimport Header from './components/Header.js';\nimport Hero from './components/Hero.js';\n\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute\n} from \"react-router-dom\";\n\nfunction App() {\n\tglobals.registerState(\"currentUser\", useState({}));\n\n\tuseEffect(() => {\n\t\tfetch(\"/api/users/me\").then(response => response.json()).then(data => {\n\t\t\tglobals.setState(\"currentUser\", data);\n\t\t})\n\t}, [])\n\n\n\t// Janky fix for https://bugs.chromium.org/p/chromium/issues/detail?id=332189\n\tlet pageLoad = useCallback((elem) => {\n\t\tif(!elem) return;\n\t\telem.classList.add(\"anim-me\");\n\t}, [])\n\n\treturn (\n\t<div className=\"App\" ref={pageLoad}>\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<Hero/>\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/user/:userid?\">\n\t\t\t\t\t<Header/>\n\t\t\t\t\t<Userpage/>\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/uploads\">\n\t\t\t\t\t<Header/>\n\t\t\t\t\t<UploadsPage/>\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t<NotFound/>\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <>\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>\n  </>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}